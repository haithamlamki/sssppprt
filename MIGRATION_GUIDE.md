# ุฏููู ููู ุงูุจูุงูุงุช ูู Neon ุฅูู Supabase
# Migration Guide: Neon to Supabase

## ุงููุชุทูุจุงุช / Requirements

ูุจู ุชุดุบูู ุงูุณูุฑูุจุชุ ุชุฃูุฏ ูู:

1. **ุฅุถุงูุฉ ูุชุบูุฑ ุงูุจูุฆุฉ `NEON_DATABASE_URL`** ูู ููู `.env`:
   ```env
   NEON_DATABASE_URL=postgresql://user:password@host:port/database
   ```

2. **ุชุฃูุฏ ูู ูุฌูุฏ `DATABASE_URL`** (ูู Supabase) ูู ููู `.env`:
   ```env
   DATABASE_URL=postgresql://user:password@host:port/database
   ```

## ููููุฉ ุงูุงุณุชุฎุฏุงู / How to Use

### 1. ุฅุนุฏุงุฏ ููู `.env`

ุฃุถู ุฑุงุจุท ูุงุนุฏุฉ ุจูุงูุงุช Neon ูู ููู `.env`:

```env
# Neon Database (Source - ุงููุตุฏุฑ)
NEON_DATABASE_URL=postgresql://user:password@ep-xxx.region.aws.neon.tech/dbname?sslmode=require

# Supabase Database (Target - ุงููุฏู)
DATABASE_URL=postgresql://postgres:password@db.xxx.supabase.co:5432/postgres
```

### 2. ุชุดุบูู ุงูุณูุฑูุจุช

```bash
npm run migrate:neon-to-supabase
```

ุฃู ูุจุงุดุฑุฉ:

```bash
tsx server/migrate-neon-to-supabase.ts
```

## ูุง ุงูุฐู ูููู ุจู ุงูุณูุฑูุจุช / What the Script Does

ุงูุณูุฑูุจุช ูููู ุจููู ุฌููุน ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุจูุงูุงุช Neon ุฅูู Supabase:

1. โ **ุงููุณุชุฎุฏููู** (Users)
2. โ **ุงููุนุงููุงุช** (Events)
3. โ **ุงูุฃุฎุจุงุฑ** (News)
4. โ **ุงููุชุงุฆุฌ** (Results)
5. โ **ุงูุฑูุงุถููู** (Athletes)
6. โ **ุงููุนุฑุถ** (Gallery)
7. โ **ุชุณุฌููุงุช ุงููุนุงููุงุช** (Event Registrations)
8. โ **ุงูุฅุดุนุงุฑุงุช** (Notifications)
9. โ **ููุดูุฑุงุช ุงูููุชุฏู** (Forum Posts)
10. โ **ุชุนูููุงุช ุงูููุชุฏู** (Forum Comments)
11. โ **ุฅุนุฌุงุจุงุช ุงูููุชุฏู** (Forum Likes)
12. โ **ุงูุจุทููุงุช** (Tournaments)
13. โ **ุงููุฑู** (Teams)
14. โ **ุงููุงุนุจูู** (Players)
15. โ **ุงูุญูุงู** (Referees)
16. โ **ุงููุจุงุฑูุงุช** (Matches)
17. โ **ุฃุญุฏุงุซ ุงููุจุงุฑูุงุช** (Match Events)
18. โ **ุงูุชุดูููุงุช** (Match Lineups)
19. โ **ุชุนูููุงุช ุงููุจุงุฑูุงุช** (Match Comments)
20. โ **ุชููููุงุช ุงููุฑู** (Team Evaluations)
21. โ **ุฅุนุฏุงุฏุงุช ุงููููุน** (Site Settings)

## ุงูููุฒุงุช / Features

- โ **ููุน ุงูุชูุฑุงุฑ**: ูุชุญูู ุงูุณูุฑูุจุช ูู ูุฌูุฏ ุงูุจูุงูุงุช ูุจู ุงูุฅุฏุฑุงุฌ ูุชุฌูุจ ุงูุชูุฑุงุฑ
- โ **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก**: ูุชุนุงูู ูุน ุงูุฃุฎุทุงุก ุจุดูู ุตุญูุญ ููุบูู ุงูุงุชุตุงูุงุช
- โ **ุชูุงุฑูุฑ ููุตูุฉ**: ูุนุฑุถ ุชูุฑูุฑุงู ููุตูุงู ุนู ูู ุฌุฏูู ุชู ูููู
- โ **ุขูู**: ูุง ูุญุฐู ุงูุจูุงูุงุช ุงูููุฌูุฏุฉุ ููุท ูุถูู ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ

## ููุงุญุธุงุช ูููุฉ / Important Notes

โ๏ธ **ุชุญุฐูุฑ**: 
- ุชุฃูุฏ ูู ุนูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ูุงุนุฏุฉ ุจูุงูุงุช Supabase ูุจู ุงูุชุดุบูู
- ุงูุณูุฑูุจุช ูุง ูุญุฐู ุงูุจูุงูุงุช ุงูููุฌูุฏุฉุ ููุท ูุถูู ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ
- ุฅุฐุง ูุงูุช ุงูุจูุงูุงุช ููุฌูุฏุฉ ุจุงููุนู (ุจูุงุกู ุนูู ID ุฃู ุงูููุงุชูุญ ุงููุฑูุฏุฉ)ุ ุณูุชู ุชุฎุทููุง

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก / Troubleshooting

### ุฎุทุฃ: "NEON_DATABASE_URL must be set"
- ุชุฃูุฏ ูู ุฅุถุงูุฉ `NEON_DATABASE_URL` ูู ููู `.env`

### ุฎุทุฃ: "DATABASE_URL must be set"
- ุชุฃูุฏ ูู ุฅุถุงูุฉ `DATABASE_URL` (ูู Supabase) ูู ููู `.env`

### ุฎุทุฃ ูู ุงูุงุชุตุงู
- ุชุญูู ูู ุตุญุฉ ุฑุงุจุท ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุชุฃูุฏ ูู ุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุชุงุญุฉ ููููู ุงููุตูู ุฅูููุง
- ุชุญูู ูู ุฅุนุฏุงุฏุงุช SSL ุฅุฐุง ูุฒู ุงูุฃูุฑ

## ูุซุงู ุนูู ุงููุฎุฑุฌุงุช / Example Output

```
๐ Starting migration from Neon to Supabase...

๐ฆ Migrating users...
โ Migrated 3 users

๐ฆ Migrating events...
โ Migrated 5 events

๐ฆ Migrating news...
โน๏ธ  All news already exist in Supabase

...

โจ Migration completed successfully!
โ Migration process finished
```
