# ุชูุฑูุฑ ุฑุจุท ุงููุดุฑูุน ุจู Supabase

**ุชุงุฑูุฎ ุงูุชุญูู:** 2025-01-14  
**ุญุงูุฉ ุงูุงุชุตุงู:** โ ูุชุตู ุจูุฌุงุญ

---

## 1. ูุนูููุงุช ุงูุงุชุตุงู

### ูุนูููุงุช ุงููุดุฑูุน
- **Project URL:** https://ganuizvmmozagyzotohx.supabase.co
- **Database:** PostgreSQL 17.6
- **User:** postgres
- **Connection Status:** โ ูุชุตู

### ูุชุบูุฑุงุช ุงูุจูุฆุฉ
- โ `DATABASE_URL`: ููุฌูุฏ ููุถุจูุท
- โ `SESSION_SECRET`: ููุฌูุฏ
- โ `PORT`: 3000
- โ `NODE_ENV`: development

---

## 2. ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฅุญุตุงุฆูุงุช ุงูุฌุฏุงูู
- **ุฅุฌูุงูู ุงูุฌุฏุงูู:** 21 ุฌุฏูู
- **ุญุงูุฉ ุงูุฌุฏุงูู:** โ ุฌููุน ุงูุฌุฏุงูู ููุฌูุฏุฉ

### ูุงุฆูุฉ ุงูุฌุฏุงูู

#### ุฌุฏุงูู ุงููุณุชุฎุฏููู ูุงููุตุงุฏูุฉ
- โ `users` (25 ุนููุฏ) - 2 ุณุฌูุงุช
- โ `event_registrations` (9 ุฃุนูุฏุฉ)
- โ `notifications` (8 ุฃุนูุฏุฉ)

#### ุฌุฏุงูู ุงููุนุงููุงุช
- โ `events` (11 ุนููุฏ) - 4 ุณุฌูุงุช
- โ `news` (5 ุฃุนูุฏุฉ) - 2 ุณุฌูุงุช
- โ `results` (8 ุฃุนูุฏุฉ) - 2 ุณุฌูุงุช
- โ `gallery` (6 ุฃุนูุฏุฉ) - 2 ุณุฌูุงุช
- โ `athletes` (7 ุฃุนูุฏุฉ) - 2 ุณุฌูุงุช

#### ุฌุฏุงูู ุงูููุชุฏู
- โ `forum_posts` (10 ุฃุนูุฏุฉ)
- โ `forum_comments` (5 ุฃุนูุฏุฉ)
- โ `forum_likes` (4 ุฃุนูุฏุฉ)

#### ุฌุฏุงูู ุงูุจุทููุงุช
- โ `tournaments` (46 ุนููุฏ)
- โ `teams` (26 ุนููุฏ)
- โ `players` (26 ุนููุฏ)
- โ `referees` (11 ุนููุฏ)
- โ `matches` (26 ุนููุฏ)
- โ `match_events` (10 ุฃุนูุฏุฉ)
- โ `match_lineups` (10 ุฃุนูุฏุฉ)
- โ `match_comments` (5 ุฃุนูุฏุฉ)
- โ `team_evaluations` (11 ุนููุฏ)

#### ุฌุฏุงูู ุงูุฅุนุฏุงุฏุงุช
- โ `site_settings` (4 ุฃุนูุฏุฉ)

---

## 3. ุฅุนุฏุงุฏุงุช ุงูููุฏ

### Database Driver
- โ **ุงููุณุชุฎุฏู:** `pg` (node-postgres)
- โ **Drizzle ORM:** `drizzle-orm/node-postgres`
- โ **SSL:** ููุนูู (`rejectUnauthorized: false`)

### ูููุงุช ุงูุฅุนุฏุงุฏ
- โ `server/db.ts`: ูุถุจูุท ุจุดูู ุตุญูุญ
- โ `drizzle.config.ts`: ูุถุจูุท ุจุดูู ุตุญูุญ
- โ `.env`: ููุฌูุฏ ููุญุชูู ุนูู ุฌููุน ุงููุชุทูุจุงุช

---

## 4. ุงูุฃูุงู (Security)

### โ๏ธ ุชุญุฐูุฑุงุช ุฃูููุฉ

**Row Level Security (RLS) ุบูุฑ ููุนูู ุนูู ุฌููุน ุงูุฌุฏุงูู:**

ูุฌุจ ุชูุนูู RLS ุนูู ุงูุฌุฏุงูู ุงูุชุงููุฉ:
1. `users` - โ๏ธ ููู ุฌุฏุงู
2. `event_registrations` - โ๏ธ ููู
3. `notifications` - โ๏ธ ููู
4. `forum_posts` - โ๏ธ ููู
5. `forum_comments` - โ๏ธ ููู
6. `forum_likes` - โ๏ธ ููู
7. `events` - โ๏ธ
8. `news` - โ๏ธ
9. `results` - โ๏ธ
10. `athletes` - โ๏ธ
11. `gallery` - โ๏ธ
12. `tournaments` - โ๏ธ
13. `teams` - โ๏ธ
14. `players` - โ๏ธ
15. `referees` - โ๏ธ
16. `matches` - โ๏ธ
17. `match_events` - โ๏ธ
18. `match_lineups` - โ๏ธ
19. `match_comments` - โ๏ธ
20. `team_evaluations` - โ๏ธ
21. `site_settings` - โ๏ธ

**ุงูุชูุตูุฉ:** ุชูุนูู RLS ุนูู ุฌููุน ุงูุฌุฏุงูู ูุญูุงูุฉ ุงูุจูุงูุงุช.

---

## 5. ุงูุฃุฏุงุก (Performance)

- โ ุงูุงุชุตุงู ูุนูู ุจุดูู ุตุญูุญ
- โ ุงูุงุณุชุนูุงูุงุช ุชุนูู ุจุดูู ุณุฑูุน
- โ ูุง ุชูุฌุฏ ูุดุงูู ุฃุฏุงุก ูุงุถุญุฉ

---

## 6. ุงูุจูุงูุงุช ุงูุญุงููุฉ

- **ุงููุณุชุฎุฏููู:** 2 ูุณุชุฎุฏู (ahmed.ali, admin)
- **ุงููุนุงููุงุช:** 4 ูุนุงููุงุช
- **ุงูุฃุฎุจุงุฑ:** 2 ุฎุจุฑ
- **ุงููุชุงุฆุฌ:** 2 ูุชูุฌุฉ
- **ุงููุนุฑุถ:** 2 ุตูุฑุฉ
- **ุงูุฑูุงุถููู:** 2 ุฑูุงุถู

### ุจูุงูุงุช ุชุฌุฑูุจูุฉ
ุชู ุชููุฆุฉ ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ ุจูุฌุงุญ ุนูุฏ ุฃูู ุชุดุบูู ููุฎุงุฏู.

---

## 7. API Keys

### Publishable Keys ุงููุชุงุญุฉ
1. **Legacy anon key:** ููุฌูุฏ
2. **Modern publishable key:** `sb_publishable_qo-kCrlUS68jgzapfowcYQ_ffoE-7d0`

---

## 8. ุงูุฎูุงุตุฉ

### โ ูุง ูุนูู ุจุดูู ุตุญูุญ:
1. โ ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
2. โ ุฌููุน ุงูุฌุฏุงูู ููุฌูุฏุฉ
3. โ ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูุถุจูุทุฉ
4. โ Database driver ุตุญูุญ
5. โ SSL ููุนูู
6. โ ุงูุจูุงูุงุช ุงูุฃูููุฉ ููุฌูุฏุฉ

### โ๏ธ ูุง ูุญุชุงุฌ ุฅูู ุฅุตูุงุญ:
1. โ๏ธ **ุชูุนูู Row Level Security (RLS)** ุนูู ุฌููุน ุงูุฌุฏุงูู
2. โ๏ธ ุฅุถุงูุฉ ุณูุงุณุงุช RLS ููุงุณุจุฉ ููู ุฌุฏูู

### ๐ ุงูุชูุตูุงุช:
1. **ุชูุนูู RLS ุนูู ุฌููุน ุงูุฌุฏุงูู** - ููู ุฌุฏุงู ููุฃูุงู
2. **ุฅูุดุงุก ุณูุงุณุงุช RLS ููุงุณุจุฉ** ููู ุฌุฏูู ุญุณุจ ุงูุตูุงุญูุงุช
3. **ุฅุถุงูุฉ Indexes ุนูู Foreign Keys** - ูุชุญุณูู ุงูุฃุฏุงุก (21 foreign key ุจุฏูู index)
4. **ุงุฎุชุจุงุฑ ุงูุณูุงุณุงุช** ุจุนุฏ ุงูุชูุนูู
5. **ูุฑุงุฌุนุฉ ุงูุฃูุงู** ุจุดูู ุฏูุฑู

### โ๏ธ ุชุญุณููุงุช ุงูุฃุฏุงุก ุงูููุตู ุจูุง:
- ุฅุถุงูุฉ indexes ุนูู ุฌููุน Foreign Keys ูุชุญุณูู ุฃุฏุงุก ุงูุงุณุชุนูุงูุงุช
- ูุฑุงุฌุนุฉ ุงุณุชุฑุงุชูุฌูุฉ ุงูุงุชุตุงู ุจู Auth DB (ุญุงููุงู: 10 ุงุชุตุงูุงุช ุซุงุจุชุฉ)

---

## 9. ุงูุฎุทูุงุช ุงูุชุงููุฉ

1. **ุชูุนูู RLS:**
   ```sql
   ALTER TABLE users ENABLE ROW LEVEL SECURITY;
   ALTER TABLE events ENABLE ROW LEVEL SECURITY;
   -- ... ุฅูุฎ
   ```

2. **ุฅูุดุงุก ุณูุงุณุงุช RLS:**
   - ุณูุงุณุงุช ูููุฑุงุกุฉ ุงูุนุงูุฉ (ููุฌุฏุงูู ุงูุนุงูุฉ)
   - ุณูุงุณุงุช ูููุชุงุจุฉ (ูููุณุชุฎุฏููู ุงููุณุฌููู ููุท)
   - ุณูุงุณุงุช ููุฅุฏุงุฑุฉ (ูููุฏูุฑูู ููุท)

3. **ุงุฎุชุจุงุฑ ุงูุณูุงุณุงุช:**
   - ุงุฎุชุจุงุฑ ุงููุตูู ูููุณุชุฎุฏููู ุงูุนุงุฏููู
   - ุงุฎุชุจุงุฑ ุงููุตูู ูููุฏูุฑูู
   - ุงุฎุชุจุงุฑ ุงููุตูู ููุฒูุงุฑ

---

**ุชู ุฅูุดุงุก ุงูุชูุฑูุฑ:** 2025-01-14

